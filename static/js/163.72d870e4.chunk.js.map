{"version":3,"file":"static/js/163.72d870e4.chunk.js","mappings":"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","sources":["pages/History.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { ConnectionHistory } from '../types/machine.types';\nimport { indexedDBService } from '../services/indexedDB.service';\nimport LoadingSpinner from '../components/LoadingSpinner';\n\nconst History: React.FC = () => {\n  const [history, setHistory] = useState<ConnectionHistory[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    loadHistory();\n  }, []);\n\n  const loadHistory = async () => {\n    try {\n      setLoading(true);\n      const historyData = await indexedDBService.getConnectionHistory();\n      // Sort by timestamp, newest first\n      const sortedHistory = historyData.sort((a, b) => \n        new Date(b.timestamp).getTime() - new Date(a.timestamp).getTime()\n      );\n      setHistory(sortedHistory);\n    } catch (error) {\n      console.error('Failed to load history:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const formatTimestamp = (date: Date) => {\n    const now = new Date();\n    const diffInMinutes = Math.floor((now.getTime() - date.getTime()) / (1000 * 60));\n    \n    if (diffInMinutes < 1) return 'Just now';\n    if (diffInMinutes < 60) return `${diffInMinutes}m ago`;\n    if (diffInMinutes < 1440) return `${Math.floor(diffInMinutes / 60)}h ago`;\n    if (diffInMinutes < 10080) return `${Math.floor(diffInMinutes / 1440)}d ago`;\n    return date.toLocaleDateString();\n  };\n\n  const getActionIcon = (action: ConnectionHistory['action']) => {\n    switch (action) {\n      case 'launch_success':\n        return (\n          <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n            <path d=\"M22 11.08V12a10 10 0 1 1-5.93-9.14\"/>\n            <polyline points=\"22,4 12,14.01 9,11.01\"/>\n          </svg>\n        );\n      case 'launch_failure':\n        return (\n          <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n            <circle cx=\"12\" cy=\"12\" r=\"10\"/>\n            <line x1=\"15\" y1=\"9\" x2=\"9\" y2=\"15\"/>\n            <line x1=\"9\" y1=\"9\" x2=\"15\" y2=\"15\"/>\n          </svg>\n        );\n      case 'launch_attempt':\n        return (\n          <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n            <circle cx=\"12\" cy=\"12\" r=\"10\"/>\n            <polyline points=\"12,6 12,12 16,14\"/>\n          </svg>\n        );\n      default:\n        return null;\n    }\n  };\n\n  const getActionColor = (action: ConnectionHistory['action']) => {\n    switch (action) {\n      case 'launch_success':\n        return 'text-success';\n      case 'launch_failure':\n        return 'text-error';\n      case 'launch_attempt':\n        return 'text-warning';\n      default:\n        return 'text-secondary';\n    }\n  };\n\n  const getActionText = (action: ConnectionHistory['action']) => {\n    switch (action) {\n      case 'launch_success':\n        return 'Connected successfully';\n      case 'launch_failure':\n        return 'Connection failed';\n      case 'launch_attempt':\n        return 'Connection attempted';\n      default:\n        return 'Unknown action';\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"page-loading\">\n        <LoadingSpinner size=\"lg\" />\n        <p>Loading connection history...</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"history-page\">\n      <div className=\"page-header\">\n        <h1 className=\"page-title\">Connection History</h1>\n        <p className=\"page-subtitle\">\n          Track all your AnyDesk connection attempts\n        </p>\n      </div>\n\n      {history.length === 0 ? (\n        <div className=\"empty-state\">\n          <div className=\"empty-state-icon\">\n            <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\">\n              <path d=\"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z\"/>\n            </svg>\n          </div>\n          <h3>No connection history yet</h3>\n          <p>Start using AnyDesk quick launch to see your connection history here.</p>\n        </div>\n      ) : (\n        <div className=\"history-list\">\n          {history.map((entry) => (\n            <div key={entry.id} className=\"history-item\">\n              <div className=\"history-icon\">\n                <div className={`action-icon ${getActionColor(entry.action)}`}>\n                  {getActionIcon(entry.action)}\n                </div>\n              </div>\n              \n              <div className=\"history-content\">\n                <div className=\"history-main\">\n                  <span className=\"machine-id\">{entry.machineId}</span>\n                  <span className={`action-text ${getActionColor(entry.action)}`}>\n                    {getActionText(entry.action)}\n                  </span>\n                </div>\n                \n                <div className=\"history-meta\">\n                  <span className=\"timestamp\">{formatTimestamp(entry.timestamp)}</span>\n                  {entry.notes && (\n                    <span className=\"notes\">{entry.notes}</span>\n                  )}\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default History;\n"],"names":["History","history","setHistory","useState","loading","setLoading","useEffect","loadHistory","async","sortedHistory","indexedDBService","getConnectionHistory","sort","a","b","Date","timestamp","getTime","error","console","formatTimestamp","date","now","diffInMinutes","Math","floor","concat","toLocaleDateString","getActionIcon","action","_jsxs","viewBox","fill","stroke","strokeWidth","children","_jsx","d","points","cx","cy","r","x1","y1","x2","y2","getActionColor","getActionText","className","LoadingSpinner","size","length","map","entry","machineId","notes","id"],"sourceRoot":""}